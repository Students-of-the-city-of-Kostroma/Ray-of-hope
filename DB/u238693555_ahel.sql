-- phpMyAdmin SQL Dump
-- version 4.9.1
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Ноя 17 2019 г., 19:11
-- Версия сервера: 10.2.27-MariaDB
-- Версия PHP: 7.2.23

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `u238693555_ahel`
--

DELIMITER $$
--
-- Процедуры
--
CREATE DEFINER=`u238693555_ahel`@`127.0.0.1` PROCEDURE `authorization_civilian` (IN `in_login` VARCHAR(255), IN `in_password` VARCHAR(255))  NO SQL
BEGIN
SET @is_succes = (SELECT EXISTS(SELECT email.id FROM email JOIN user on email.id = user.email WHERE email.email = in_login AND password = in_password));
IF @is_succes = 0 THEN
SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Неверно введен логин или пароль';
END IF;
END$$

CREATE DEFINER=`u238693555_ahel`@`127.0.0.1` PROCEDURE `authorization_organization` (IN `in_login` VARCHAR(255), IN `in_password` VARCHAR(255), IN `login_is_INN` BINARY)  NO SQL
BEGIN
IF login_is_INN = 1 THEN
SET @is_succes = (SELECT EXISTS(SELECT organization.user_id FROM organization JOIN user on organization.user_id = user.id WHERE INN = in_login AND password = in_password));
IF @is_succes = 0 THEN
SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Неверно введен логин или пароль';
END IF;
ELSE
SET @is_succes = (SELECT EXISTS(SELECT email.id FROM email JOIN user on email.id = user.email WHERE email.email = in_login AND password = in_password));
IF @is_succes = 0 THEN
SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Неверно введен логин или пароль';
END IF;
END IF;
END$$

CREATE DEFINER=`u238693555_ahel`@`127.0.0.1` PROCEDURE `createEvent` (IN `input_author` INT, IN `input_publication_date` DATE, IN `input_title` VARCHAR(255), IN `input_description` VARCHAR(255), IN `input_applications` VARCHAR(255), IN `input_type_note` INT, IN `input_start_date` DATE, IN `input_end_date` DATE, OUT `result` BOOLEAN, IN `input_id` INT(11))  NO SQL
    DETERMINISTIC
BEGIN
INSERT INTO note(id, author, publication_date, title, description, applications, type_note) VALUES (input_id, input_author, input_publication_date, input_title, input_description, input_applications, input_type_note, input_start_date, input_end_date);
set result = 1;
END$$

CREATE DEFINER=`u238693555_ahel`@`127.0.0.1` PROCEDURE `registration_civilian` (IN `in_name` VARCHAR(255), IN `in_subname` VARCHAR(255), IN `in_email` VARCHAR(255), IN `in_password` VARCHAR(255), IN `in_hash` VARCHAR(255))  NO SQL
BEGIN
	SET @check_email =(SELECT EXISTS(SELECT email.email FROM email 		WHERE email.email = in_email));
	IF @check_email = 1 THEN
		SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Гражданин с таким email уже зарегистрирован';
      END IF;
    
	SET @id_email = (SELECT max(id)+1 FROM email);
	INSERT INTO email (id, email, hash) VALUES(@id_email, in_email, in_hash);
    
	SET @type_of_account = (SELECT id FROM type_account WHERE name = 'Гражданин');

	SET @id_user = (SELECT max(id)+1 FROM user);
	INSERT INTO user (id, type_of_account, email, password) VALUES (@id_user, @type_of_account, @id_email, in_password);
             

	INSERT INTO civilian (user, subname, name) VALUES (@id_user, in_name, in_subname);
END$$

CREATE DEFINER=`u238693555_ahel`@`127.0.0.1` PROCEDURE `registration_organization` (IN `in_INN` VARCHAR(10), IN `in_name` VARCHAR(255), IN `in_email` VARCHAR(255), IN `in_hash` VARCHAR(255), IN `in_password` VARCHAR(255))  MODIFIES SQL DATA
BEGIN
	SET @check_email =(SELECT EXISTS(SELECT email.email FROM email 		WHERE email.email = in_email));
	IF @check_email = 1 THEN
		SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Организация с таким email уже зарегистрирована';
      END IF;

	SET @check_inn = (SELECT EXISTS(SELECT organization.INN FROM 		organization WHERE organization.INN=in_INN));
	IF @check_inn = 1 THEN
		SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Организация с таким INN уже зарегистрирована';
    END IF;
    
	SET @id_email = (SELECT max(id)+1 FROM email);
	INSERT INTO email (id, email, hash) VALUES(@id_email, in_email, in_hash);
    
	SET @type_of_account = (SELECT id FROM type_account WHERE name = 'Организация');

	SET @id_user = (SELECT max(id)+1 FROM user);
	INSERT INTO user (id, type_of_account, email, password) VALUES (@id_user, @type_of_account, @id_email, in_password);
             

	INSERT INTO organization (user_id, INN, name) VALUES (@id_user, in_INN, in_name);
END$$

--
-- Функции
--
CREATE DEFINER=`u238693555_ahel`@`127.0.0.1` FUNCTION `checkINN` (`inINN` VARCHAR(10)) RETURNS INT(11) READS SQL DATA
BEGIN
DECLARE my_inn varchar(10) default NULL;
SELECT INN INTO my_inn FROM organization WHERE organization.INN=inINN;
IF my_inn is NULL THEN
RETURN true;
ELSE
RETURN false;
END IF;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Структура таблицы `city`
--

CREATE TABLE `city` (
  `id` int(10) UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `region` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `city`
--

INSERT INTO `city` (`id`, `name`, `region`) VALUES
(1, 'Адыгейск', 1),
(2, 'Майкоп', 1),
(3, 'Агидель', 2),
(4, 'Баймак', 2),
(5, 'Белебей', 2),
(6, 'Белорецк', 2),
(7, 'Бирск', 2),
(8, 'Благовещенск', 2),
(9, 'Давлеканово', 2),
(10, 'Дюртюли', 2),
(11, 'Ишимбай', 2),
(12, 'Кумертау', 2),
(13, 'Межгорье', 2),
(14, 'Мелеуз', 2),
(15, 'Нефтекамск', 2),
(16, 'Октябрьский', 2),
(17, 'Салават', 2),
(18, 'Сибай', 2),
(19, 'Стерлитамак', 2),
(20, 'Туймазы', 2),
(21, 'Уфа', 2),
(22, 'Учалы', 2),
(23, 'Янаул', 2),
(24, 'Бабушкин', 3),
(25, 'Гусиноозерск', 3),
(26, 'Закаменск', 3),
(27, 'Кяхта', 3),
(28, 'Северобайкальск', 3),
(29, 'Улан-Удэ', 3),
(30, 'Горно-Алтайск', 4),
(31, 'Буйнакск', 5),
(32, 'Дагестанские Огни', 5),
(33, 'Дербент', 5),
(34, 'Избербаш', 5),
(35, 'Каспийск', 5),
(36, 'Кизилюрт', 5),
(37, 'Кизляр', 5),
(38, 'Махачкала', 5),
(39, 'Хасавюрт', 5),
(40, 'Южно-Сухокумск', 5),
(41, 'Карабулак', 6),
(42, 'Магас', 6),
(43, 'Малгобек', 6),
(44, 'Назрань', 6),
(45, 'Баксан', 7),
(46, 'Майский', 7),
(47, 'Нальчик', 7),
(48, 'Нарткала', 7),
(49, 'Прохладный', 7),
(50, 'Терек', 7),
(51, 'Тырныауз', 7),
(52, 'Чегем', 7),
(53, 'Городовиковск', 8),
(54, 'Лагань', 8),
(55, 'Элиста', 8),
(56, 'Карачаевск', 9),
(57, 'Теберда', 9),
(58, 'Усть-Джегута', 9),
(59, 'Черкесск', 9),
(60, 'Беломорск', 10),
(61, 'Кемь', 10),
(62, 'Кондопога', 10),
(63, 'Костомукша', 10),
(64, 'Лахденпохья', 10),
(65, 'Медвежьегорск', 10),
(66, 'Олонец', 10),
(67, 'Петрозаводск', 10),
(68, 'Питкяранта', 10),
(69, 'Пудож', 10),
(70, 'Сегежа', 10),
(71, 'Сортавала', 10),
(72, 'Суоярви', 10),
(73, 'Воркута', 11),
(74, 'Вуктыл', 11),
(75, 'Емва', 11),
(76, 'Инта', 11),
(77, 'Микунь', 11),
(78, 'Печора', 11),
(79, 'Сосногорск', 11),
(80, 'Сыктывкар', 11),
(81, 'Усинск', 11),
(82, 'Ухта', 11),
(83, 'Волжск', 12),
(84, 'Звенигово', 12),
(85, 'Йошкар-Ола', 12),
(86, 'Козьмодемьянск', 12),
(87, 'Ардатов', 13),
(88, 'Инсар', 13),
(89, 'Ковылкино', 13),
(90, 'Краснослободск', 13),
(91, 'Рузаевка', 13),
(92, 'Саранск', 13),
(93, 'Темников', 13),
(94, 'Алдан', 14),
(95, 'Верхоянск', 14),
(96, 'Вилюйск', 14),
(97, 'Ленск', 14),
(98, 'Мирный', 14),
(99, 'Нерюнгри', 14),
(100, 'Нюрба', 14),
(101, 'Олекминск', 14),
(102, 'Покровск', 14),
(103, 'Среднеколымск', 14),
(104, 'Томмот', 14),
(105, 'Удачный', 14),
(106, 'Якутск', 14),
(107, 'Алагир', 15),
(108, 'Ардон', 15),
(109, 'Беслан', 15),
(110, 'Владикавказ', 15),
(111, 'Дигора', 15),
(112, 'Моздок', 15),
(113, 'Агрыз', 16),
(114, 'Азнакаево', 16),
(115, 'Альметьевск', 16),
(116, 'Арск', 16),
(117, 'Бавлы', 16),
(118, 'Болгар', 16),
(119, 'Бугульма', 16),
(120, 'Буинск', 16),
(121, 'Елабуга', 16),
(122, 'Заинск', 16),
(123, 'Зеленодольск', 16),
(124, 'Казань', 16),
(125, 'Лаишево', 16),
(126, 'Лениногорск', 16),
(127, 'Мамадыш', 16),
(128, 'Менделеевск', 16),
(129, 'Мензелинск', 16),
(130, 'Набережные Челны', 16),
(131, 'Нижнекамск', 16),
(132, 'Нурлат', 16),
(133, 'Тетюши', 16),
(134, 'Чистополь', 16),
(135, 'Ак-Довурак', 17),
(136, 'Кызыл', 17),
(137, 'Туран', 17),
(138, 'Чадан', 17),
(139, 'Шагонар', 17),
(140, 'Воткинск', 18),
(141, 'Глазов', 18),
(142, 'Ижевск', 18),
(143, 'Камбарка', 18),
(144, 'Можга', 18),
(145, 'Сарапул', 18),
(146, 'Абаза', 19),
(147, 'Абакан', 19),
(148, 'Саяногорск', 19),
(149, 'Сорск', 19),
(150, 'Черногорск', 19),
(151, 'Аргун', 20),
(152, 'Грозный', 20),
(153, 'Гудермес', 20),
(154, 'Урус-Мартан', 20),
(155, 'Шали', 20),
(156, 'Алатырь', 21),
(157, 'Канаш', 21),
(158, 'Козловка', 21),
(159, 'Мариинский Посад', 21),
(160, 'Новочебоксарск', 21),
(161, 'Цивильск', 21),
(162, 'Чебоксары', 21),
(163, 'Шумерля', 21),
(164, 'Ядрин', 21),
(165, 'Алейск', 22),
(166, 'Барнаул', 22),
(167, 'Белокуриха', 22),
(168, 'Бийск', 22),
(169, 'Горняк', 22),
(170, 'Заринск', 22),
(171, 'Змеиногорск', 22),
(172, 'Камень-на-Оби', 22),
(173, 'Новоалтайск', 22),
(174, 'Рубцовск', 22),
(175, 'Славгород', 22),
(176, 'Яровое', 22),
(177, 'Абинск', 23),
(178, 'Анапа', 23),
(179, 'Апшеронск', 23),
(180, 'Армавир', 23),
(181, 'Белореченск', 23),
(182, 'Геленджик', 23),
(183, 'Горячий Ключ', 23),
(184, 'Гулькевичи', 23),
(185, 'Ейск', 23),
(186, 'Кореновск', 23),
(187, 'Краснодар', 23),
(188, 'Кропоткин', 23),
(189, 'Крымск', 23),
(190, 'Курганинск', 23),
(191, 'Лабинск', 23),
(192, 'Новокубанск', 23),
(193, 'Новороссийск', 23),
(194, 'Приморско-Ахтарск', 23),
(195, 'Славянск-на-Кубани', 23),
(196, 'Сочи', 23),
(197, 'Темрюк', 23),
(198, 'Тимашевск', 23),
(199, 'Тихорецк', 23),
(200, 'Туапсе', 23),
(201, 'Усть-Лабинск', 23),
(202, 'Хадыженск', 23),
(203, 'Артемовск', 24),
(204, 'Ачинск', 24),
(205, 'Боготол', 24),
(206, 'Бородино', 24),
(207, 'Дивногорск', 24),
(208, 'Дудинка', 24),
(209, 'Енисейск', 24),
(210, 'Железногорск', 24),
(211, 'Заозерный', 24),
(212, 'Зеленогорск', 24),
(213, 'Игарка', 24),
(214, 'Иланский', 24),
(215, 'Канск', 24),
(216, 'Кодинск', 24),
(217, 'Красноярск', 24),
(218, 'Лесосибирск', 24),
(219, 'Минусинск', 24),
(220, 'Назарово', 24),
(221, 'Норильск', 24),
(222, 'Сосновоборск', 24),
(223, 'Ужур', 24),
(224, 'Уяр', 24),
(225, 'Шарыпово', 24),
(226, 'Арсеньев', 25),
(227, 'Артем', 25),
(228, 'Большой Камень', 25),
(229, 'Владивосток', 25),
(230, 'Дальнегорск', 25),
(231, 'Дальнереченск', 25),
(232, 'Лесозаводск', 25),
(233, 'Находка', 25),
(234, 'Партизанск', 25),
(235, 'Спасск-Дальний', 25),
(236, 'Уссурийск', 25),
(237, 'Фокино', 25),
(238, 'Благодарный', 26),
(239, 'Буденновск', 26),
(240, 'Георгиевск', 26),
(241, 'Ессентуки', 26),
(242, 'Железноводск', 26),
(243, 'Зеленокумск', 26),
(244, 'Изобильный', 26),
(245, 'Ипатово', 26),
(246, 'Кисловодск', 26),
(247, 'Лермонтов', 26),
(248, 'Минеральные Воды', 26),
(249, 'Михайловск', 26),
(250, 'Невинномысск', 26),
(251, 'Нефтекумск', 26),
(252, 'Новоалександровск', 26),
(253, 'Новопавловск', 26),
(254, 'Пятигорск', 26),
(255, 'Светлоград', 26),
(256, 'Ставрополь', 26),
(257, 'Амурск', 27),
(258, 'Бикин', 27),
(259, 'Вяземский', 27),
(260, 'Комсомольск-на-Амуре', 27),
(261, 'Николаевск-на-Амуре', 27),
(262, 'Советская Гавань', 27),
(263, 'Хабаровск', 27),
(264, 'Белогорск', 28),
(265, 'Благовещенск', 28),
(266, 'Завитинск', 28),
(267, 'Зея', 28),
(268, 'Райчихинск', 28),
(269, 'Свободный', 28),
(270, 'Сковородино', 28),
(271, 'Тында', 28),
(272, 'Шимановск', 28),
(273, 'Архангельск', 29),
(274, 'Вельск', 29),
(275, 'Каргополь', 29),
(276, 'Коряжма', 29),
(277, 'Котлас', 29),
(278, 'Мезень', 29),
(279, 'Мирный', 29),
(280, 'Новодвинск', 29),
(281, 'Няндома', 29),
(282, 'Онега', 29),
(283, 'Северодвинск', 29),
(284, 'Сольвычегодск', 29),
(285, 'Шенкурск', 29),
(286, 'Астрахань', 30),
(287, 'Ахтубинск', 30),
(288, 'Ахтубинск-7', 30),
(289, 'Знаменск', 30),
(290, 'Камызяк', 30),
(291, 'Нариманов', 30),
(292, 'Харабали', 30),
(293, 'Алексеевка', 31),
(294, 'Белгород', 31),
(295, 'Бирюч', 31),
(296, 'Валуйки', 31),
(297, 'Грайворон', 31),
(298, 'Губкин', 31),
(299, 'Короча', 31),
(300, 'Новый Оскол', 31),
(301, 'Старый Оскол', 31),
(302, 'Строитель', 31),
(303, 'Шебекино', 31),
(304, 'Брянск', 32),
(305, 'Дятьково', 32),
(306, 'Жуковка', 32),
(307, 'Злынка', 32),
(308, 'Карачев', 32),
(309, 'Клинцы', 32),
(310, 'Мглин', 32),
(311, 'Новозыбков', 32),
(312, 'Почеп', 32),
(313, 'Севск', 32),
(314, 'Сельцо', 32),
(315, 'Стародуб', 32),
(316, 'Сураж', 32),
(317, 'Трубчевск', 32),
(318, 'Унеча', 32),
(319, 'Фокино', 32),
(320, 'Александров', 33),
(321, 'Владимир', 33),
(322, 'Вязники', 33),
(323, 'Гороховец', 33),
(324, 'Гусь-Хрустальный', 33),
(325, 'Камешково', 33),
(326, 'Карабаново', 33),
(327, 'Киржач', 33),
(328, 'Ковров', 33),
(329, 'Кольчугино', 33),
(330, 'Костерево', 33),
(331, 'Курлово', 33),
(332, 'Лакинск', 33),
(333, 'Меленки', 33),
(334, 'Муром', 33),
(335, 'Петушки', 33),
(336, 'Покров', 33),
(337, 'Радужный', 33),
(338, 'Собинка', 33),
(339, 'Струнино', 33),
(340, 'Судогда', 33),
(341, 'Суздаль', 33),
(342, 'Юрьев-Польский', 33),
(343, 'Волгоград', 34),
(344, 'Волжский', 34),
(345, 'Дубовка', 34),
(346, 'Жирновск', 34),
(347, 'Калач-на-Дону', 34),
(348, 'Камышин', 34),
(349, 'Котельниково', 34),
(350, 'Котово', 34),
(351, 'Краснослободск', 34),
(352, 'Ленинск', 34),
(353, 'Михайловка', 34),
(354, 'Николаевск', 34),
(355, 'Новоаннинский', 34),
(356, 'Палласовка', 34),
(357, 'Петров Вал', 34),
(358, 'Серафимович', 34),
(359, 'Суровикино', 34),
(360, 'Урюпинск', 34),
(361, 'Фролово', 34),
(362, 'Бабаево', 35),
(363, 'Белозерск', 35),
(364, 'Великий Устюг', 35),
(365, 'Вологда', 35),
(366, 'Вытегра', 35),
(367, 'Грязовец', 35),
(368, 'Кадников', 35),
(369, 'Кириллов', 35),
(370, 'Красавино', 35),
(371, 'Никольск', 35),
(372, 'Сокол', 35),
(373, 'Тотьма', 35),
(374, 'Устюжна', 35),
(375, 'Харовск', 35),
(376, 'Череповец', 35),
(377, 'Бобров', 36),
(378, 'Богучар', 36),
(379, 'Борисоглебск', 36),
(380, 'Бутурлиновка', 36),
(381, 'Воронеж', 36),
(382, 'Воронеж-45', 36),
(383, 'Калач', 36),
(384, 'Лиски', 36),
(385, 'Нововоронеж', 36),
(386, 'Новохоперск', 36),
(387, 'Острогожск', 36),
(388, 'Павловск', 36),
(389, 'Поворино', 36),
(390, 'Россошь', 36),
(391, 'Семилуки', 36),
(392, 'Эртиль', 36),
(393, 'Вичуга', 37),
(394, 'Гаврилов Посад', 37),
(395, 'Заволжск', 37),
(396, 'Иваново', 37),
(397, 'Кинешма', 37),
(398, 'Комсомольск', 37),
(399, 'Кохма', 37),
(400, 'Наволоки', 37),
(401, 'Плес', 37),
(402, 'Приволжск', 37),
(403, 'Пучеж', 37),
(404, 'Родники', 37),
(405, 'Тейково', 37),
(406, 'Фурманов', 37),
(407, 'Шуя', 37),
(408, 'Южа', 37),
(409, 'Юрьевец', 37),
(410, 'Алзамай', 38),
(411, 'Ангарск', 38),
(412, 'Байкальск', 38),
(413, 'Бирюсинск', 38),
(414, 'Бодайбо', 38),
(415, 'Братск', 38),
(416, 'Вихоревка', 38),
(417, 'Железногорск-Илимский', 38),
(418, 'Зима', 38),
(419, 'Иркутск', 38),
(420, 'Иркутск-45', 38),
(421, 'Киренск', 38),
(422, 'Нижнеудинск', 38),
(423, 'Саянск', 38),
(424, 'Свирск', 38),
(425, 'Слюдянка', 38),
(426, 'Тайшет', 38),
(427, 'Тулун', 38),
(428, 'Усолье-Сибирское', 38),
(429, 'Усть-Илимск', 38),
(430, 'Усть-Кут', 38),
(431, 'Черемхово', 38),
(432, 'Шелехов', 38),
(433, 'Багратионовск', 39),
(434, 'Балтийск', 39),
(435, 'Гвардейск', 39),
(436, 'Гурьевск', 39),
(437, 'Гусев', 39),
(438, 'Зеленоградск', 39),
(439, 'Калининград', 39),
(440, 'Краснознаменск', 39),
(441, 'Ладушкин', 39),
(442, 'Мамоново', 39),
(443, 'Неман', 39),
(444, 'Нестеров', 39),
(445, 'Озерск', 39),
(446, 'Пионерский', 39),
(447, 'Полесск', 39),
(448, 'Правдинск', 39),
(449, 'Приморск', 39),
(450, 'Светлогорск', 39),
(451, 'Светлый', 39),
(452, 'Славск', 39),
(453, 'Советск', 39),
(454, 'Черняховск', 39),
(455, 'Балабаново', 40),
(456, 'Белоусово', 40),
(457, 'Боровск', 40),
(458, 'Боровск-1', 40),
(459, 'Ермолино', 40),
(460, 'Жиздра', 40),
(461, 'Жуков', 40),
(462, 'Калуга', 40),
(463, 'Киров', 40),
(464, 'Козельск', 40),
(465, 'Кондрово', 40),
(466, 'Кременки', 40),
(467, 'Людиново', 40),
(468, 'Малоярославец', 40),
(469, 'Медынь', 40),
(470, 'Мещовск', 40),
(471, 'Мосальск', 40),
(472, 'Обнинск', 40),
(473, 'Сосенский', 40),
(474, 'Спас-Деменск', 40),
(475, 'Сухиничи', 40),
(476, 'Таруса', 40),
(477, 'Юхнов', 40),
(478, 'Юхнов-1', 40),
(479, 'Юхнов-2', 40),
(480, 'Вилючинск', 41),
(481, 'Елизово', 41),
(482, 'Петропавловск-Камчатский', 41),
(483, 'Анжеро-Судженск', 42),
(484, 'Белово', 42),
(485, 'Березовский', 42),
(486, 'Гурьевск', 42),
(487, 'Калтан', 42),
(488, 'Кемерово', 42),
(489, 'Киселевск', 42),
(490, 'Ленинск-Кузнецкий', 42),
(491, 'Мариинск', 42),
(492, 'Междуреченск', 42),
(493, 'Мыски', 42),
(494, 'Новокузнецк', 42),
(495, 'Осинники', 42),
(496, 'Полысаево', 42),
(497, 'Прокопьевск', 42),
(498, 'Салаир', 42),
(499, 'Тайга', 42),
(500, 'Таштагол', 42),
(501, 'Топки', 42),
(502, 'Юрга', 42),
(503, 'Белая Холуница', 43),
(504, 'Вятские Поляны', 43),
(505, 'Зуевка', 43),
(506, 'Киров', 43),
(507, 'Кирово-Чепецк', 43),
(508, 'Кирс', 43),
(509, 'Котельнич', 43),
(510, 'Луза', 43),
(511, 'Малмыж', 43),
(512, 'Мураши', 43),
(513, 'Нолинск', 43),
(514, 'Омутнинск', 43),
(515, 'Орлов', 43),
(516, 'Слободской', 43),
(517, 'Советск', 43),
(518, 'Сосновка', 43),
(519, 'Уржум', 43),
(520, 'Яранск', 43),
(521, 'Буй', 44),
(522, 'Волгореченск', 44),
(523, 'Галич', 44),
(524, 'Кологрив', 44),
(525, 'Кострома', 44),
(526, 'Макарьев', 44),
(527, 'Мантурово', 44),
(528, 'Нерехта', 44),
(529, 'Нея', 44),
(530, 'Солигалич', 44),
(531, 'Чухлома', 44),
(532, 'Шарья', 44),
(533, 'Далматово', 45),
(534, 'Катайск', 45),
(535, 'Курган', 45),
(536, 'Куртамыш', 45),
(537, 'Макушино', 45),
(538, 'Петухово', 45),
(539, 'Шадринск', 45),
(540, 'Шумиха', 45),
(541, 'Щучье', 45),
(542, 'Дмитриев', 46),
(543, 'Железногорск', 46),
(544, 'Курск', 46),
(545, 'Курчатов', 46),
(546, 'Льгов', 46),
(547, 'Обоянь', 46),
(548, 'Рыльск', 46),
(549, 'Суджа', 46),
(550, 'Фатеж', 46),
(551, 'Щигры', 46),
(552, 'Бокситогорск', 47),
(553, 'Волосово', 47),
(554, 'Волхов', 47),
(555, 'Всеволожск', 47),
(556, 'Выборг', 47),
(557, 'Высоцк', 47),
(558, 'Гатчина', 47),
(559, 'Ивангород', 47),
(560, 'Каменногорск', 47),
(561, 'Кингисепп', 47),
(562, 'Кириши', 47),
(563, 'Кировск', 47),
(564, 'Коммунар', 47),
(565, 'Лодейное Поле', 47),
(566, 'Луга', 47),
(567, 'Любань', 47),
(568, 'Никольское', 47),
(569, 'Новая Ладога', 47),
(570, 'Отрадное', 47),
(571, 'Пикалево', 47),
(572, 'Подпорожье', 47),
(573, 'Приморск', 47),
(574, 'Приозерск', 47),
(575, 'Светогорск', 47),
(576, 'Сертолово', 47),
(577, 'Сланцы', 47),
(578, 'Сосновый Бор', 47),
(579, 'Сясьстрой', 47),
(580, 'Тихвин', 47),
(581, 'Тосно', 47),
(582, 'Шлиссельбург', 47),
(583, 'Грязи', 48),
(584, 'Данков', 48),
(585, 'Елец', 48),
(586, 'Задонск', 48),
(587, 'Лебедянь', 48),
(588, 'Липецк', 48),
(589, 'Усмань', 48),
(590, 'Чаплыгин', 48),
(591, 'Магадан', 49),
(592, 'Сусуман', 49),
(593, 'Апрелевка', 50),
(594, 'Балашиха', 50),
(595, 'Бронницы', 50),
(596, 'Верея', 50),
(597, 'Видное', 50),
(598, 'Волоколамск', 50),
(599, 'Воскресенск', 50),
(600, 'Высоковск', 50),
(601, 'Голицыно', 50),
(602, 'Городской округ Черноголовка', 50),
(603, 'Дедовск', 50),
(604, 'Дзержинский', 50),
(605, 'Дмитров', 50),
(606, 'Долгопрудный', 50),
(607, 'Домодедово', 50),
(608, 'Дрезна', 50),
(609, 'Дубна', 50),
(610, 'Егорьевск', 50),
(611, 'Железнодорожный', 50),
(612, 'Жуковский', 50),
(613, 'Зарайск', 50),
(614, 'Звенигород', 50),
(615, 'Ивантеевка', 50),
(616, 'Истра', 50),
(617, 'Истра-1', 50),
(618, 'Кашира', 50),
(619, 'Кашира-8', 50),
(620, 'Климовск', 50),
(621, 'Клин', 50),
(622, 'Коломна', 50),
(623, 'Королев', 50),
(624, 'Котельники', 50),
(625, 'Красноармейск', 50),
(626, 'Красногорск', 50),
(627, 'Краснозаводск', 50),
(628, 'Краснознаменск', 50),
(629, 'Кубинка', 50),
(630, 'Куровское', 50),
(631, 'Ликино-Дулево', 50),
(632, 'Лобня', 50),
(633, 'Лосино-Петровский', 50),
(634, 'Луховицы', 50),
(635, 'Лыткарино', 50),
(636, 'Люберцы', 50),
(637, 'Можайск', 50),
(638, 'Мытищи', 50),
(639, 'Наро-Фоминск', 50),
(640, 'Ногинск', 50),
(641, 'Одинцово', 50),
(642, 'Ожерелье', 50),
(643, 'Озеры', 50),
(644, 'Орехово-Зуево', 50),
(645, 'Павловский Посад', 50),
(646, 'Пересвет', 50),
(647, 'Подольск', 50),
(648, 'Протвино', 50),
(649, 'Пушкино', 50),
(650, 'Пущино', 50),
(651, 'Раменское', 50),
(652, 'Реутов', 50),
(653, 'Рошаль', 50),
(654, 'Руза', 50),
(655, 'Сергиев Посад', 50),
(656, 'Сергиев Посад-7', 50),
(657, 'Серпухов', 50),
(658, 'Снегири', 50),
(659, 'Солнечногорск', 50),
(660, 'Солнечногорск-2', 50),
(661, 'Солнечногорск-25', 50),
(662, 'Солнечногорск-30', 50),
(663, 'Солнечногорск-7', 50),
(664, 'Старая Купавна', 50),
(665, 'Ступино', 50),
(666, 'Талдом', 50),
(667, 'Фрязино', 50),
(668, 'Химки', 50),
(669, 'Хотьково', 50),
(670, 'Черноголовка', 50),
(671, 'Чехов', 50),
(672, 'Чехов-2', 50),
(673, 'Чехов-3', 50),
(674, 'Чехов-8', 50),
(675, 'Шатура', 50),
(676, 'Щелково', 50),
(677, 'Электрогорск', 50),
(678, 'Электросталь', 50),
(679, 'Электроугли', 50),
(680, 'Юбилейный', 50),
(681, 'Яхрома', 50),
(682, 'Апатиты', 51),
(683, 'Гаджиево', 51),
(684, 'Заозерск', 51),
(685, 'Заполярный', 51),
(686, 'Кандалакша', 51),
(687, 'Кировск', 51),
(688, 'Ковдор', 51),
(689, 'Кола', 51),
(690, 'Мончегорск', 51),
(691, 'Мурманск', 51),
(692, 'Оленегорск', 51),
(693, 'Оленегорск-1', 51),
(694, 'Оленегорск-2', 51),
(695, 'Оленегорск-4', 51),
(696, 'Островной', 51),
(697, 'Полярные Зори', 51),
(698, 'Полярный', 51),
(699, 'Североморск', 51),
(700, 'Снежногорск', 51),
(701, 'Арзамас', 52),
(702, 'Балахна', 52),
(703, 'Богородск', 52),
(704, 'Бор', 52),
(705, 'Ветлуга', 52),
(706, 'Володарск', 52),
(707, 'Ворсма', 52),
(708, 'Выкса', 52),
(709, 'Горбатов', 52),
(710, 'Городец', 52),
(711, 'Дзержинск', 52),
(712, 'Заволжье', 52),
(713, 'Княгинино', 52),
(714, 'Кстово', 52),
(715, 'Кулебаки', 52),
(716, 'Лукоянов', 52),
(717, 'Лысково', 52),
(718, 'Навашино', 52),
(719, 'Нижний Новгород', 52),
(720, 'Павлово', 52),
(721, 'Первомайск', 52),
(722, 'Перевоз', 52),
(723, 'Саров', 52),
(724, 'Семенов', 52),
(725, 'Сергач', 52),
(726, 'Урень', 52),
(727, 'Чкаловск', 52),
(728, 'Шахунья', 52),
(729, 'Боровичи', 53),
(730, 'Валдай', 53),
(731, 'Великий Новгород', 53),
(732, 'Малая Вишера', 53),
(733, 'Окуловка', 53),
(734, 'Пестово', 53),
(735, 'Сольцы', 53),
(736, 'Сольцы 2', 53),
(737, 'Старая Русса', 53),
(738, 'Холм', 53),
(739, 'Чудово', 53),
(740, 'Барабинск', 54),
(741, 'Бердск', 54),
(742, 'Болотное', 54),
(743, 'Искитим', 54),
(744, 'Карасук', 54),
(745, 'Каргат', 54),
(746, 'Куйбышев', 54),
(747, 'Купино', 54),
(748, 'Новосибирск', 54),
(749, 'Обь', 54),
(750, 'Татарск', 54),
(751, 'Тогучин', 54),
(752, 'Черепаново', 54),
(753, 'Чулым', 54),
(754, 'Чулым-3', 54),
(755, 'Исилькуль', 55),
(756, 'Калачинск', 55),
(757, 'Называевск', 55),
(758, 'Омск', 55),
(759, 'Тара', 55),
(760, 'Тюкалинск', 55),
(761, 'Абдулино', 56),
(762, 'Бугуруслан', 56),
(763, 'Бузулук', 56),
(764, 'Гай', 56),
(765, 'Кувандык', 56),
(766, 'Медногорск', 56),
(767, 'Новотроицк', 56),
(768, 'Оренбург', 56),
(769, 'Орск', 56),
(770, 'Соль-Илецк', 56),
(771, 'Сорочинск', 56),
(772, 'Ясный', 56),
(773, 'Болхов', 57),
(774, 'Дмитровск', 57),
(775, 'Ливны', 57),
(776, 'Малоархангельск', 57),
(777, 'Мценск', 57),
(778, 'Новосиль', 57),
(779, 'Орёл', 57),
(780, 'Белинский', 58),
(781, 'Городище', 58),
(782, 'Заречный', 58),
(783, 'Каменка', 58),
(784, 'Кузнецк', 58),
(785, 'Кузнецк-12', 58),
(786, 'Кузнецк-8', 58),
(787, 'Нижний Ломов', 58),
(788, 'Никольск', 58),
(789, 'Пенза', 58),
(790, 'Сердобск', 58),
(791, 'Спасск', 58),
(792, 'Сурск', 58),
(793, 'Александровск', 59),
(794, 'Березники', 59),
(795, 'Верещагино', 59),
(796, 'Горнозаводск', 59),
(797, 'Гремячинск', 59),
(798, 'Губаха', 59),
(799, 'Добрянка', 59),
(800, 'Кизел', 59),
(801, 'Красновишерск', 59),
(802, 'Краснокамск', 59),
(803, 'Кудымкар', 59),
(804, 'Кунгур', 59),
(805, 'Лысьва', 59),
(806, 'Нытва', 59),
(807, 'Оса', 59),
(808, 'Оханск', 59),
(809, 'Очер', 59),
(810, 'Пермь', 59),
(811, 'Соликамск', 59),
(812, 'Усолье', 59),
(813, 'Чайковский', 59),
(814, 'Чердынь', 59),
(815, 'Чермоз', 59),
(816, 'Чернушка', 59),
(817, 'Чусовой', 59),
(818, 'Великие Луки', 60),
(819, 'Великие Луки-1', 60),
(820, 'Гдов', 60),
(821, 'Дно', 60),
(822, 'Невель', 60),
(823, 'Новоржев', 60),
(824, 'Новосокольники', 60),
(825, 'Опочка', 60),
(826, 'Остров', 60),
(827, 'Печоры', 60),
(828, 'Порхов', 60),
(829, 'Псков', 60),
(830, 'Пустошка', 60),
(831, 'Пыталово', 60),
(832, 'Себеж', 60),
(833, 'Азов', 61),
(834, 'Аксай', 61),
(835, 'Батайск', 61),
(836, 'Белая Калитва', 61),
(837, 'Волгодонск', 61),
(838, 'Гуково', 61),
(839, 'Донецк', 61),
(840, 'Зверево', 61),
(841, 'Зерноград', 61),
(842, 'Каменск-Шахтинский', 61),
(843, 'Константиновск', 61),
(844, 'Красный Сулин', 61),
(845, 'Миллерово', 61),
(846, 'Морозовск', 61),
(847, 'Новочеркасск', 61),
(848, 'Новошахтинск', 61),
(849, 'Пролетарск', 61),
(850, 'Ростов-на-Дону', 61),
(851, 'Сальск', 61),
(852, 'Семикаракорск', 61),
(853, 'Таганрог', 61),
(854, 'Цимлянск', 61),
(855, 'Шахты', 61),
(856, 'Касимов', 62),
(857, 'Кораблино', 62),
(858, 'Михайлов', 62),
(859, 'Новомичуринск', 62),
(860, 'Рыбное', 62),
(861, 'Ряжск', 62),
(862, 'Рязань', 62),
(863, 'Сасово', 62),
(864, 'Скопин', 62),
(865, 'Спас-Клепики', 62),
(866, 'Спасск-Рязанский', 62),
(867, 'Шацк', 62),
(868, 'Жигулевск', 63),
(869, 'Кинель', 63),
(870, 'Нефтегорск', 63),
(871, 'Новокуйбышевск', 63),
(872, 'Октябрьск', 63),
(873, 'Отрадный', 63),
(874, 'Похвистнево', 63),
(875, 'Самара', 63),
(876, 'Сызрань', 63),
(877, 'Тольятти', 63),
(878, 'Чапаевск', 63),
(879, 'Аркадак', 64),
(880, 'Аткарск', 64),
(881, 'Балаково', 64),
(882, 'Балашов', 64),
(883, 'Вольск', 64),
(884, 'Вольск-18', 64),
(885, 'Ершов', 64),
(886, 'Калининск', 64),
(887, 'Красноармейск', 64),
(888, 'Красный Кут', 64),
(889, 'Маркс', 64),
(890, 'Новоузенск', 64),
(891, 'Петровск', 64),
(892, 'Пугачев', 64),
(893, 'Ртищево', 64),
(894, 'Саратов', 64),
(895, 'Хвалынск', 64),
(896, 'Шиханы', 64),
(897, 'Энгельс', 64),
(898, 'Энгельс-19', 64),
(899, 'Энгельс-2', 64),
(900, 'Александровск-Сахалинский', 65),
(901, 'Анива', 65),
(902, 'Долинск', 65),
(903, 'Корсаков', 65),
(904, 'Курильск', 65),
(905, 'Макаров', 65),
(906, 'Невельск', 65),
(907, 'Оха', 65),
(908, 'Поронайск', 65),
(909, 'Северо-Курильск', 65),
(910, 'Томари', 65),
(911, 'Углегорск', 65),
(912, 'Холмск', 65),
(913, 'Шахтерск', 65),
(914, 'Южно-Сахалинск', 65),
(915, 'Алапаевск', 66),
(916, 'Арамиль', 66),
(917, 'Артемовский', 66),
(918, 'Асбест', 66),
(919, 'Березовский', 66),
(920, 'Богданович', 66),
(921, 'Верхний Тагил', 66),
(922, 'Верхняя Пышма', 66),
(923, 'Верхняя Салда', 66),
(924, 'Верхняя Тура', 66),
(925, 'Верхотурье', 66),
(926, 'Волчанск', 66),
(927, 'Дегтярск', 66),
(928, 'Екатеринбург', 66),
(929, 'Заречный', 66),
(930, 'Ивдель', 66),
(931, 'Ирбит', 66),
(932, 'Каменск-Уральский', 66),
(933, 'Камышлов', 66),
(934, 'Карпинск', 66),
(935, 'Качканар', 66),
(936, 'Кировград', 66),
(937, 'Краснотурьинск', 66),
(938, 'Красноуральск', 66),
(939, 'Красноуфимск', 66),
(940, 'Кушва', 66),
(941, 'Лесной', 66),
(942, 'Михайловск', 66),
(943, 'Невьянск', 66),
(944, 'Нижние Серги', 66),
(945, 'Нижние Серги-3', 66),
(946, 'Нижний Тагил', 66),
(947, 'Нижняя Салда', 66),
(948, 'Нижняя Тура', 66),
(949, 'Новая Ляля', 66),
(950, 'Новоуральск', 66),
(951, 'Первоуральск', 66),
(952, 'Полевской', 66),
(953, 'Ревда', 66),
(954, 'Реж', 66),
(955, 'Североуральск', 66),
(956, 'Серов', 66),
(957, 'Среднеуральск', 66),
(958, 'Сухой Лог', 66),
(959, 'Сысерть', 66),
(960, 'Тавда', 66),
(961, 'Талица', 66),
(962, 'Туринск', 66),
(963, 'Велиж', 67),
(964, 'Вязьма', 67),
(965, 'Гагарин', 67),
(966, 'Демидов', 67),
(967, 'Десногорск', 67),
(968, 'Дорогобуж', 67),
(969, 'Духовщина', 67),
(970, 'Ельня', 67),
(971, 'Починок', 67),
(972, 'Рославль', 67),
(973, 'Рудня', 67),
(974, 'Сафоново', 67),
(975, 'Смоленск', 67),
(976, 'Сычевка', 67),
(977, 'Ярцево', 67),
(978, 'Жердевка', 68),
(979, 'Кирсанов', 68),
(980, 'Котовск', 68),
(981, 'Мичуринск', 68),
(982, 'Моршанск', 68),
(983, 'Рассказово', 68),
(984, 'Тамбов', 68),
(985, 'Уварово', 68),
(986, 'Андреаполь', 69),
(987, 'Бежецк', 69),
(988, 'Белый', 69),
(989, 'Бологое', 69),
(990, 'Весьегонск', 69),
(991, 'Вышний Волочек', 69),
(992, 'Западная Двина', 69),
(993, 'Зубцов', 69),
(994, 'Калязин', 69),
(995, 'Кашин', 69),
(996, 'Кимры', 69),
(997, 'Конаково', 69),
(998, 'Красный Холм', 69),
(999, 'Кувшиново', 69),
(1000, 'Лихославль', 69),
(1001, 'Нелидово', 69),
(1002, 'Осташков', 69),
(1003, 'Ржев', 69),
(1004, 'Старица', 69),
(1005, 'Тверь', 69),
(1006, 'Торжок', 69),
(1007, 'Торопец', 69),
(1008, 'Удомля', 69),
(1009, 'Асино', 70),
(1010, 'Кедровый', 70),
(1011, 'Колпашево', 70),
(1012, 'Северск', 70),
(1013, 'Стрежевой', 70),
(1014, 'Томск', 70),
(1015, 'Алексин', 71),
(1016, 'Белев', 71),
(1017, 'Богородицк', 71),
(1018, 'Болохово', 71),
(1019, 'Венев', 71),
(1020, 'Донской', 71),
(1021, 'Ефремов', 71),
(1022, 'Кимовск', 71),
(1023, 'Киреевск', 71),
(1024, 'Липки', 71),
(1025, 'Новомосковск', 71),
(1026, 'Плавск', 71),
(1027, 'Советск', 71),
(1028, 'Суворов', 71),
(1029, 'Тула', 71),
(1030, 'Узловая', 71),
(1031, 'Чекалин', 71),
(1032, 'Щекино', 71),
(1033, 'Ясногорск', 71),
(1034, 'Заводоуковск', 72),
(1035, 'Ишим', 72),
(1036, 'Тобольск', 72),
(1037, 'Тюмень', 72),
(1038, 'Ялуторовск', 72),
(1039, 'Барыш', 73),
(1040, 'Димитровград', 73),
(1041, 'Инза', 73),
(1042, 'Новоульяновск', 73),
(1043, 'Сенгилей', 73),
(1044, 'Ульяновск', 73),
(1045, 'Аша', 74),
(1046, 'Бакал', 74),
(1047, 'Верхнеуральск', 74),
(1048, 'Верхний Уфалей', 74),
(1049, 'Еманжелинск', 74),
(1050, 'Златоуст', 74),
(1051, 'Карабаш', 74),
(1052, 'Карталы', 74),
(1053, 'Касли', 74),
(1054, 'Катав-Ивановск', 74),
(1055, 'Копейск', 74),
(1056, 'Коркино', 74),
(1057, 'Куса', 74),
(1058, 'Кыштым', 74),
(1059, 'Магнитогорск', 74),
(1060, 'Миасс', 74),
(1061, 'Миньяр', 74),
(1062, 'Нязепетровск', 74),
(1063, 'Озерск', 74),
(1064, 'Пласт', 74),
(1065, 'Сатка', 74),
(1066, 'Сим', 74),
(1067, 'Снежинск', 74),
(1068, 'Трехгорный', 74),
(1069, 'Трехгорный-1', 74),
(1070, 'Троицк', 74),
(1071, 'Усть-Катав', 74),
(1072, 'Чебаркуль', 74),
(1073, 'Челябинск', 74),
(1074, 'Южноуральск', 74),
(1075, 'Юрюзань', 74),
(1076, 'Балей', 75),
(1077, 'Борзя', 75),
(1078, 'Краснокаменск', 75),
(1079, 'Могоча', 75),
(1080, 'Нерчинск', 75),
(1081, 'Петровск-Забайкальский', 75),
(1082, 'Сретенск', 75),
(1083, 'Хилок', 75),
(1084, 'Чита', 75),
(1085, 'Шилка', 75),
(1086, 'Гаврилов-Ям', 76),
(1087, 'Данилов', 76),
(1088, 'Любим', 76),
(1089, 'Мышкин', 76),
(1090, 'Переславль-Залесский', 76),
(1091, 'Пошехонье', 76),
(1092, 'Ростов', 76),
(1093, 'Рыбинск', 76),
(1094, 'Тутаев', 76),
(1095, 'Углич', 76),
(1096, 'Ярославль', 76),
(1097, 'Зеленоград', 77),
(1098, 'Москва', 77),
(1099, 'Московский', 77),
(1100, 'Московский', 77),
(1101, 'Троицк', 77),
(1102, 'Щербинка', 77),
(1103, 'Зеленогорск', 78),
(1104, 'Колпино', 78),
(1105, 'Красное Село', 78),
(1106, 'Кронштадт', 78),
(1107, 'Ломоносов', 78),
(1108, 'Павловск', 78),
(1109, 'Петергоф', 78),
(1110, 'Пушкин', 78),
(1111, 'Санкт-Петербург', 78),
(1112, 'Сестрорецк', 78),
(1113, 'Биробиджан', 79),
(1114, 'Облучье', 79),
(1115, 'Нарьян-Мар', 83),
(1116, 'Белоярский', 86),
(1117, 'Когалым', 86),
(1118, 'Лангепас', 86),
(1119, 'Лянтор', 86),
(1120, 'Мегион', 86),
(1121, 'Нефтеюганск', 86),
(1122, 'Нижневартовск', 86),
(1123, 'Нягань', 86),
(1124, 'Покачи', 86),
(1125, 'Пыть-Ях', 86),
(1126, 'Радужный', 86),
(1127, 'Советский', 86),
(1128, 'Сургут', 86),
(1129, 'Урай', 86),
(1130, 'Ханты-Мансийск', 86),
(1131, 'Югорск', 86),
(1132, 'Анадырь', 87),
(1133, 'Билибино', 87),
(1134, 'Певек', 87),
(1135, 'Губкинский', 89),
(1136, 'Лабытнанги', 89),
(1137, 'Муравленко', 89),
(1138, 'Надым', 89),
(1139, 'Новый Уренгой', 89),
(1140, 'Ноябрьск', 89),
(1141, 'Салехард', 89),
(1142, 'Тарко-Сале', 89),
(1143, 'Алупка', 91),
(1144, 'Алушта', 91),
(1145, 'Армянск', 91),
(1146, 'Армянськ', 91),
(1147, 'Бахчисарай', 91),
(1148, 'Белогорск', 91),
(1149, 'Джанкой', 91),
(1150, 'Джанкой', 91),
(1151, 'Евпатория', 91),
(1152, 'Керчь', 91),
(1153, 'Красноперекопск', 91),
(1154, 'Красноперекопск', 91),
(1155, 'Подгорное', 91),
(1156, 'Саки', 91),
(1157, 'Саки', 91),
(1158, 'Симферополь', 91),
(1159, 'Старый крым', 91),
(1160, 'Судак', 91),
(1161, 'Феодосия', 91),
(1162, 'Щелкино', 91),
(1163, 'Ялта', 91),
(1164, 'Инкерман', 92),
(1165, 'Севастополь', 92);

-- --------------------------------------------------------

--
-- Структура таблицы `civilian`
--

CREATE TABLE `civilian` (
  `user` int(10) UNSIGNED NOT NULL,
  `city` int(10) UNSIGNED DEFAULT NULL,
  `subname` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `second name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `civilian`
--

INSERT INTO `civilian` (`user`, `city`, `subname`, `name`, `second name`) VALUES
(20, 44, '123', '123', '123'),
(22, NULL, 'test_X', 'Test_X', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `comment`
--

CREATE TABLE `comment` (
  `id` int(10) UNSIGNED NOT NULL,
  `author` int(11) UNSIGNED NOT NULL,
  `date` date NOT NULL,
  `text` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `note` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `answer_to` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Триггеры `comment`
--
DELIMITER $$
CREATE TRIGGER `delete_comment` AFTER DELETE ON `comment` FOR EACH ROW BEGIN
SET @user = (SELECT email FROM (SELECT user.id, email.email FROM user JOIN email WHERE user.email =  email.id) as user_email WHERE user_email.id = OLD.author);
INSERT into Logs (date, user, comment)
VALUES (CURRENT_TIMESTAMP(), @user, 'Удаление записи из таблицы comment');
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `insert_comment` BEFORE INSERT ON `comment` FOR EACH ROW BEGIN
SET @user = (SELECT email FROM (SELECT user.id, email.email FROM user JOIN email WHERE user.email =  email.id) as user_email WHERE user_email.id = NEW.author);
INSERT into Logs (date, user, comment)
VALUES (CURRENT_TIMESTAMP(), @user, 'Добавление записи в таблицу comment');
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `update_comment` BEFORE UPDATE ON `comment` FOR EACH ROW BEGIN
SET @user = (SELECT email FROM (SELECT user.id, email.email FROM user JOIN email WHERE user.email =  email.id) as user_email WHERE user_email.id = NEW.author);
INSERT into Logs (date, user, comment)
VALUES (CURRENT_TIMESTAMP(), @user, 'Изменение записи в таблице comment');
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Структура таблицы `email`
--

CREATE TABLE `email` (
  `id` int(10) UNSIGNED NOT NULL,
  `email` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT 0,
  `hash` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `email`
--

INSERT INTO `email` (`id`, `email`, `status`, `hash`) VALUES
(1, 'shtaubstas@gmail.com', 1, 'hshhshsh'),
(2, 'darapana31@mail.ru', 1, '67ec669a49deaa7a39977a7a89c9564e'),
(3, 'kv94441@gmail.com', 1, '9dcaa9b4ca52d748f211b726bd1c3fcc'),
(4, 'yuri.silenok@gmail.com', 0, '3e3dcb5c62ddd3b89686069ea088a37d'),
(5, 'rouzn21@gmail.com', 1, '1211783f34a1317cc56aec68d224446b'),
(6, 'ilyademosmirnov@mail.ru', 0, '9c8cc540f243f25aa4ba6c2c7fb1a49c'),
(7, 'AlliNikki5@gmail.com', 1, '6644ff8d1f3c3cdaa4e4fec510d80e71'),
(8, 'Fhfh@mail.ru', 0, 'a69277532af89918f8c99bfa05be21bb'),
(9, 'zhezlovadaria@gmail.com', 0, '1479e0b882dce9aaeeae60fa0fa8d777'),
(10, 'nartsag.yurij@gmail.com', 1, '46bf799dc6bf399f3796d3b4e0968135'),
(17, 'dfgdfg@fdg.fgh', 0, '57f815f14c76eb062dd65f6af4f5ce65'),
(18, 'sdfsdf@dffg.ghjghj', 0, '9d117b08fe0d544a4c5b1fe7d500ceb7'),
(19, 'nartsg.yurij@gmail.com', 0, 'eb9e7195b7a6c0c515a1e4ae46512d25'),
(20, 'kv944451@gmail.com', 0, 'asdfghjkl'),
(21, 'sdsd123123dsdsd', 0, '12345');

-- --------------------------------------------------------

--
-- Структура таблицы `event`
--

CREATE TABLE `event` (
  `id` int(11) UNSIGNED NOT NULL,
  `note` int(11) UNSIGNED NOT NULL,
  `start_date` date NOT NULL,
  `end_date` date NOT NULL,
  `address` int(11) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `favorite_organization`
--

CREATE TABLE `favorite_organization` (
  `organization` int(11) UNSIGNED NOT NULL,
  `civilian` int(11) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci ROW_FORMAT=COMPACT;

-- --------------------------------------------------------

--
-- Структура таблицы `Logs`
--

CREATE TABLE `Logs` (
  `date` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `user` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `comment` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Дамп данных таблицы `Logs`
--

INSERT INTO `Logs` (`date`, `user`, `comment`) VALUES
('2019-11-06 00:00:00', 'u238693555_ahel@127.0.0.1', 'Удаление записи из таблицы комментарии'),
('2019-11-14 00:00:00', 'u238693555_ahel@127.0.0.1', 'Добавление записи в таблицу comment'),
('2019-11-14 00:00:00', '2', 'Удаление записи из таблицы comment'),
('2019-11-14 00:00:00', 'sad', 'Добавление записи в таблицу comment'),
('2019-11-14 00:00:00', 'sad2', 'Изменение записи в таблице comment'),
('2019-11-17 18:46:33', '0', 'Удаление записи из таблицы comment'),
('2019-11-17 18:53:56', '2', 'Добавление записи в таблицу comment'),
('2019-11-17 19:01:54', 'shtaubstas@gmail.com', 'Удаление записи из таблицы comment');

-- --------------------------------------------------------

--
-- Структура таблицы `markers`
--

CREATE TABLE `markers` (
  `note` int(11) UNSIGNED NOT NULL,
  `user` int(11) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `members`
--

CREATE TABLE `members` (
  `civilian` int(11) UNSIGNED NOT NULL,
  `event` int(11) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `need`
--

CREATE TABLE `need` (
  `id` int(10) UNSIGNED NOT NULL,
  `note` int(11) UNSIGNED NOT NULL,
  `need_items` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `need_count` int(11) NOT NULL,
  `collected_count` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `note`
--

CREATE TABLE `note` (
  `id` int(11) UNSIGNED NOT NULL,
  `author` int(11) UNSIGNED NOT NULL,
  `publication_date` date NOT NULL,
  `description` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `applications` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `type_note` int(11) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `organization`
--

CREATE TABLE `organization` (
  `user_id` int(10) UNSIGNED NOT NULL,
  `INN` varchar(10) COLLATE utf8_unicode_ci NOT NULL,
  `address` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `number_phone` int(11) DEFAULT NULL,
  `city` int(10) UNSIGNED DEFAULT NULL,
  `type_of_activity` int(11) UNSIGNED DEFAULT NULL,
  `docs` int(11) UNSIGNED DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `organization`
--

INSERT INTO `organization` (`user_id`, `INN`, `address`, `name`, `number_phone`, `city`, `type_of_activity`, `docs`) VALUES
(2, '456456546', 'Костромская обл', 'Какое-то название', 799988873, 525, 2, 2),
(3, '4401115905', 'null', 'Какая-то организация', 0, 91, 1, 3),
(4, '6449013711', NULL, 'Организация', 2147483647, NULL, 1, NULL),
(5, '644901001', NULL, 'Силенок', 2147483647, NULL, 1, NULL),
(6, '3664069397', NULL, 'Тест Андр', 2147483647, 525, 1, NULL),
(7, '4401051144', NULL, 'епыыфаф', 2147483647, NULL, 1, NULL),
(8, '7731347089', NULL, 'Zxcvbn', 2147483647, NULL, 1, NULL),
(9, '6679056678', NULL, 'Название', 2147483647, NULL, 1, NULL),
(10, '4401080770', NULL, 'ddddd', 2147483647, NULL, 1, NULL),
(11, '7806298113', NULL, 'Мне', 2147483647, NULL, 1, NULL),
(18, '5036032527', NULL, 'gdfgfdg', NULL, NULL, NULL, NULL),
(19, '5001007322', NULL, 'ghfhgfh', NULL, NULL, NULL, NULL),
(21, '4401115906', NULL, 'test_org', NULL, NULL, NULL, NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `payment_information`
--

CREATE TABLE `payment_information` (
  `organization` int(10) UNSIGNED NOT NULL,
  `OGRN` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `R/SCH` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `Cor_account` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `BIK` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci ROW_FORMAT=COMPACT;

-- --------------------------------------------------------

--
-- Структура таблицы `region`
--

CREATE TABLE `region` (
  `code` int(10) UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `region`
--

INSERT INTO `region` (`code`, `name`) VALUES
(1, 'Республика Адыгея (Адыгея)'),
(2, 'Республика Башкортостан'),
(3, 'Республика Бурятия'),
(4, 'Республика Алтай'),
(5, 'Республика Дагестан'),
(6, 'Республика Ингушетия'),
(7, 'Кабардино-Балкарская Республика'),
(8, 'Республика Калмыкия'),
(9, 'Карачаево-Черкесская Республика'),
(10, 'Республика Карелия'),
(11, 'Республика Коми'),
(12, 'Республика Марий Эл'),
(13, 'Республика Мордовия'),
(14, 'Республика Саха (Якутия)'),
(15, 'Республика Северная Осетия - Алания'),
(16, 'Республика Татарстан (Татарстан)'),
(17, 'Республика Тыва'),
(18, 'Удмуртская Республика'),
(19, 'Республика Хакасия'),
(20, 'Чеченская Республика'),
(21, 'Чувашская Республика - Чувашия'),
(22, 'Алтайский край'),
(23, 'Краснодарский край'),
(24, 'Красноярский край'),
(25, 'Приморский край'),
(26, 'Ставропольский край'),
(27, 'Хабаровский край'),
(28, 'Амурская область'),
(29, 'Архангельская область'),
(30, 'Астраханская область'),
(31, 'Белгородская область'),
(32, 'Брянская область'),
(33, 'Владимирская область'),
(34, 'Волгоградская область'),
(35, 'Вологодская область'),
(36, 'Воронежская область'),
(37, 'Ивановская область'),
(38, 'Иркутская область'),
(39, 'Калининградская область'),
(40, 'Калужская область'),
(41, 'Камчатский край'),
(42, 'Кемеровская область'),
(43, 'Кировская область'),
(44, 'Костромская область'),
(45, 'Курганская область'),
(46, 'Курская область'),
(47, 'Ленинградская область'),
(48, 'Липецкая область'),
(49, 'Магаданская область'),
(50, 'Московская область'),
(51, 'Мурманская область'),
(52, 'Нижегородская область'),
(53, 'Новгородская область'),
(54, 'Новосибирская область'),
(55, 'Омская область'),
(56, 'Оренбургская область'),
(57, 'Орловская область'),
(58, 'Пензенская область'),
(59, 'Пермский край'),
(60, 'Псковская область'),
(61, 'Ростовская область'),
(62, 'Рязанская область'),
(63, 'Самарская область'),
(64, 'Саратовская область'),
(65, 'Сахалинская область'),
(66, 'Свердловская область'),
(67, 'Смоленская область'),
(68, 'Тамбовская область'),
(69, 'Тверская область'),
(70, 'Томская область'),
(71, 'Тульская область'),
(72, 'Тюменская область'),
(73, 'Ульяновская область'),
(74, 'Челябинская область'),
(75, 'Забайкальский край'),
(76, 'Ярославская область'),
(77, 'г. Москва'),
(78, 'Санкт-Петербург'),
(79, 'Еврейская автономная область'),
(83, 'Ненецкий автономный округ'),
(86, 'Ханты-Мансийский автономный округ - Югра'),
(87, 'Чукотский автономный округ'),
(89, 'Ямало-Ненецкий автономный округ'),
(91, 'Республика Крым'),
(92, 'Севастополь'),
(99, 'Иные территории, включая город и космодром Байконур');

-- --------------------------------------------------------

--
-- Структура таблицы `token`
--

CREATE TABLE `token` (
  `id` int(10) UNSIGNED NOT NULL,
  `user` int(10) UNSIGNED NOT NULL,
  `token` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `valid_until` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `type_account`
--

CREATE TABLE `type_account` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `description` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci ROW_FORMAT=COMPACT;

--
-- Дамп данных таблицы `type_account`
--

INSERT INTO `type_account` (`id`, `name`, `description`) VALUES
(1, 'Организация', NULL),
(2, 'Гражданин', NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `type_note`
--

CREATE TABLE `type_note` (
  `id` int(11) UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `description` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci ROW_FORMAT=COMPACT;

-- --------------------------------------------------------

--
-- Структура таблицы `type_of_activity`
--

CREATE TABLE `type_of_activity` (
  `id` int(10) UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci ROW_FORMAT=COMPACT;

--
-- Дамп данных таблицы `type_of_activity`
--

INSERT INTO `type_of_activity` (`id`, `name`) VALUES
(1, 'Дети'),
(2, 'Животные'),
(3, 'Пенсионеры');

-- --------------------------------------------------------

--
-- Структура таблицы `user`
--

CREATE TABLE `user` (
  `id` int(11) UNSIGNED NOT NULL,
  `type_of_account` int(11) UNSIGNED NOT NULL,
  `avatar` int(11) UNSIGNED DEFAULT NULL,
  `description` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `email` int(11) UNSIGNED NOT NULL,
  `password` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `user`
--

INSERT INTO `user` (`id`, `type_of_account`, `avatar`, `description`, `email`, `password`) VALUES
(2, 1, 2, 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum eu congue ante, ut efficitur ante. Ut eget lacus sapien. Sed et dui sit amet nisl lacinia dignissim ut a leo. Vestibulum magna est, posuere in elementum eu, cursus id ligula. Vivamus vita', 1, '000000'),
(3, 1, 3, 'ааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааааа', 2, '79DJK53SX'),
(4, 1, NULL, NULL, 3, '1234567890'),
(5, 1, NULL, NULL, 4, 'a2195966'),
(6, 1, NULL, 'Внезапно, почти успешная попытка реги с андроида', 5, 'Qwerty1'),
(7, 1, NULL, NULL, 6, 'Ilya1234567890'),
(8, 1, NULL, NULL, 7, 'Qwerty6'),
(9, 1, NULL, NULL, 8, '123456'),
(10, 1, NULL, NULL, 9, 'qwerty'),
(11, 1, NULL, 'Что за призыв дьявола в макете профиля, мм?\r\nДОЛЖНА БЫТЬ КНОПКА БОЛЬШЕ? СЕЙЧАС Я УСТРОЮ КНОПКУ БОЛЬШЕ! А ЕСЛИ ЭТА ЗАРАЗА СЪЕСТ МОИ ПУСТЫЕ АБЗАЦЫ, Я ПОСТАВЛЮ ЕЙ БАГ! ГРРР\r\nUPD\r\nСъела\r\nЯ хочу, чтобы кнопка отобразилась\r\nИнтересно, этого хватит?\r\nАаааааааааа', 10, '1234567'),
(18, 1, NULL, NULL, 17, '555555'),
(19, 1, NULL, NULL, 18, '555555'),
(20, 1, NULL, NULL, 19, '12345678'),
(21, 1, NULL, NULL, 20, 'asdfghjkl'),
(22, 2, NULL, NULL, 21, '12vfghbj345@awezsxdfcgvhbjnk');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `city`
--
ALTER TABLE `city`
  ADD PRIMARY KEY (`id`),
  ADD KEY `region` (`region`);

--
-- Индексы таблицы `civilian`
--
ALTER TABLE `civilian`
  ADD KEY `city` (`city`),
  ADD KEY `user` (`user`);

--
-- Индексы таблицы `comment`
--
ALTER TABLE `comment`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_user` (`author`);

--
-- Индексы таблицы `email`
--
ALTER TABLE `email`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `event`
--
ALTER TABLE `event`
  ADD PRIMARY KEY (`id`),
  ADD KEY `address` (`address`),
  ADD KEY `note` (`note`);

--
-- Индексы таблицы `favorite_organization`
--
ALTER TABLE `favorite_organization`
  ADD KEY `organization` (`organization`),
  ADD KEY `user` (`civilian`);

--
-- Индексы таблицы `markers`
--
ALTER TABLE `markers`
  ADD KEY `note` (`note`),
  ADD KEY `user` (`user`);

--
-- Индексы таблицы `members`
--
ALTER TABLE `members`
  ADD KEY `civilian` (`civilian`),
  ADD KEY `event` (`event`);

--
-- Индексы таблицы `need`
--
ALTER TABLE `need`
  ADD PRIMARY KEY (`id`),
  ADD KEY `note` (`note`);

--
-- Индексы таблицы `note`
--
ALTER TABLE `note`
  ADD PRIMARY KEY (`id`),
  ADD KEY `type_note` (`type_note`),
  ADD KEY `author` (`author`);

--
-- Индексы таблицы `organization`
--
ALTER TABLE `organization`
  ADD PRIMARY KEY (`user_id`),
  ADD UNIQUE KEY `INN` (`INN`),
  ADD KEY `address` (`address`),
  ADD KEY `organization_ibfk_3` (`city`),
  ADD KEY `type of activity` (`type_of_activity`);

--
-- Индексы таблицы `payment_information`
--
ALTER TABLE `payment_information`
  ADD PRIMARY KEY (`organization`);

--
-- Индексы таблицы `region`
--
ALTER TABLE `region`
  ADD UNIQUE KEY `name` (`name`),
  ADD UNIQUE KEY `code` (`code`);

--
-- Индексы таблицы `token`
--
ALTER TABLE `token`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user` (`user`);

--
-- Индексы таблицы `type_account`
--
ALTER TABLE `type_account`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `type_note`
--
ALTER TABLE `type_note`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `type_of_activity`
--
ALTER TABLE `type_of_activity`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`),
  ADD KEY `email` (`email`),
  ADD KEY `type of account` (`type_of_account`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `city`
--
ALTER TABLE `city`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=1166;

--
-- AUTO_INCREMENT для таблицы `comment`
--
ALTER TABLE `comment`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT для таблицы `email`
--
ALTER TABLE `email`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=22;

--
-- AUTO_INCREMENT для таблицы `event`
--
ALTER TABLE `event`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `need`
--
ALTER TABLE `need`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `note`
--
ALTER TABLE `note`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `token`
--
ALTER TABLE `token`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `type_account`
--
ALTER TABLE `type_account`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT для таблицы `type_note`
--
ALTER TABLE `type_note`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT для таблицы `type_of_activity`
--
ALTER TABLE `type_of_activity`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT для таблицы `user`
--
ALTER TABLE `user`
  MODIFY `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `city`
--
ALTER TABLE `city`
  ADD CONSTRAINT `city_ibfk_1` FOREIGN KEY (`region`) REFERENCES `region` (`code`);

--
-- Ограничения внешнего ключа таблицы `civilian`
--
ALTER TABLE `civilian`
  ADD CONSTRAINT `civilian_ibfk_1` FOREIGN KEY (`city`) REFERENCES `city` (`id`),
  ADD CONSTRAINT `civilian_ibfk_2` FOREIGN KEY (`user`) REFERENCES `user` (`id`);

--
-- Ограничения внешнего ключа таблицы `comment`
--
ALTER TABLE `comment`
  ADD CONSTRAINT `fk_user` FOREIGN KEY (`author`) REFERENCES `user` (`id`);

--
-- Ограничения внешнего ключа таблицы `event`
--
ALTER TABLE `event`
  ADD CONSTRAINT `event_ibfk_1` FOREIGN KEY (`address`) REFERENCES `address` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `event_ibfk_2` FOREIGN KEY (`note`) REFERENCES `note` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `favorite_organization`
--
ALTER TABLE `favorite_organization`
  ADD CONSTRAINT `favorite_organization_ibfk_1` FOREIGN KEY (`organization`) REFERENCES `organization` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `favorite_organization_ibfk_2` FOREIGN KEY (`civilian`) REFERENCES `civilian` (`user`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `markers`
--
ALTER TABLE `markers`
  ADD CONSTRAINT `markers_ibfk_1` FOREIGN KEY (`note`) REFERENCES `note` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `markers_ibfk_2` FOREIGN KEY (`user`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `members`
--
ALTER TABLE `members`
  ADD CONSTRAINT `members_ibfk_1` FOREIGN KEY (`civilian`) REFERENCES `civilian` (`user`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `members_ibfk_2` FOREIGN KEY (`event`) REFERENCES `event` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `need`
--
ALTER TABLE `need`
  ADD CONSTRAINT `need_ibfk_1` FOREIGN KEY (`note`) REFERENCES `note` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `note`
--
ALTER TABLE `note`
  ADD CONSTRAINT `note_ibfk_1` FOREIGN KEY (`type_note`) REFERENCES `type_note` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `note_ibfk_2` FOREIGN KEY (`author`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `organization`
--
ALTER TABLE `organization`
  ADD CONSTRAINT `organization_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `organization_ibfk_3` FOREIGN KEY (`city`) REFERENCES `city` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `organization_ibfk_4` FOREIGN KEY (`type_of_activity`) REFERENCES `type_of_activity` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `payment_information`
--
ALTER TABLE `payment_information`
  ADD CONSTRAINT `payment_information_ibfk_1` FOREIGN KEY (`organization`) REFERENCES `organization` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `token`
--
ALTER TABLE `token`
  ADD CONSTRAINT `token_ibfk_1` FOREIGN KEY (`user`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `user`
--
ALTER TABLE `user`
  ADD CONSTRAINT `user_ibfk_1` FOREIGN KEY (`email`) REFERENCES `email` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `user_ibfk_2` FOREIGN KEY (`type_of_account`) REFERENCES `type_account` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
